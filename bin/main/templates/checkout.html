<!doctype html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
<!-- meta_header読み込み -->
<head
	th:replace="common :: meta_header('CHECKOUT',~{::link},~{::script})"></head>
<body th:object="${checkout}">
	<!-- header読み込み -->
	<header th:replace="common :: header"></header>
	<!-- メイン -->
	<main>
		<div class="maincol">
			<!--/* ("check" , cart.cartItems().size != 0) */-->
			<h2 th:unless="${check}">カートに商品はありません。</h2>
			<table th:if="${check}" class="table">
				<thead>
					<tr>
						<th class="name-space" scope="col">商品</th>
						<th class="quantity-space" scope="col">個数</th>
						<th class="price-space" scope="col">小計</th>
						<th class="button-space" scope="col"></th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="cart : ${session.cart.cartItems}" th:object="${cart}">
						<td>[[*{value.name}]]</td>
						<td>[[*{value.quantity}]]</td>
						<td>[[*{value.quantity} * *{value.price}]]</td>
						<td></td>
					</tr>
					<tr class="total">
						<td>合計</td>
						<td></td>
						<td th:object="${session.cart}">[[*{grandTotal}]]</td>
						<td>
							<p>↓から購入</p>
						</td>
					</tr>
				</tbody>
			</table>

			<form th:if="${check}" method="post" th:action="@{/purchase}"
				th:object="${checkout}">
				<!--/* Address */-->
				<h2>Address</h2>
				<p>(*)入力必須です</p> <br>
				<!--/* 名前 */-->
				<div class="form-row">
					<!--/* 性 */-->
					<div class="form-group col-md-6">
						<label for="firstName">姓(*) </label> <br> <input type="text"
							th:field="*{firstName}" class="form-control" /> <span
							th:if="${#fields.hasErrors('firstName')}"
							th:errors="*{firstName}">ErrorMessage</span>
					</div>
					<!--/* 名 */-->
					<div class="form-group col-md-6">
						<label>名(*)</label> <br> <input type="text"
							th:field="*{lastName}" class="form-control" /> <span
							th:if="${#fields.hasErrors('lastName')}" th:errors="*{lastName}">
							ErrorMessage</span>
					</div>
				</div>
				<div class="form-row">
					<!--/* 郵便番号 */-->
					<div class="form-group col-md-6">
						<label>郵便番号(-なしで入力してください)(*)</label> <br> <input type="text"
							th:field="*{zipcode}" class="form-control" /> <span
							th:if="${#fields.hasErrors('zipcode')}" th:errors="*{zipcode}">
							ErrorMessage</span>
					</div>
				</div>
				<!--/* 住所 */-->
				<div class="form-group">
					<label>住所(*)</label> <br> <input type="text"
						th:field="*{mainAddress}" class="form-control" /> <span
						th:if="${#fields.hasErrors('mainAddress')}"
						th:errors="*{mainAddress}">error message</span>
				</div>
				<!--/* アパート名、号室など */-->
				<div class="form-row">
					<div class="form-group col-md-6">
						<label>アパート名、号室など</label> <br> <input type="text"
							th:field="*{buildingAddress}" class="form-control" /> <span
							th:if="${#fields.hasErrors('buildingAddress')}"
							th:errors="*{buildingAddress}">ErrorMessage</span>
					</div>
				</div>
				<!--/* 電話番号 */-->
				<div class="form-group">
					<label>電話番号(-なしで入力してください)(*)</label> <br> <input type="text"
						th:field="*{tell}" class="form-control" /> <span
						th:if="${#fields.hasErrors('tell')}" th:errors="*{tell}">ErrorMessage</span>
				</div>
				<!--/* メールアドレス */-->
				<div class="form-group">
					<label>メールアドレス(*)</label> <br> <input type="email"
						th:field="*{email}" class="form-control" /> <span
						th:if="${#fields.hasErrors('email')}" th:errors="*{email}">
						ErrorMessage</span>
				</div>
				<br> <br> <br>
				<!--/* Credit Card */-->
				<h2>Credit Card Information</h2>
				<p>(*)入力必須です</p> <br>
				<!--/* カード番号 */-->
				<div class="form-group">
					<label>カード番号(-なしで入力してください)(*)</label> <br> <input type="text"
						th:field="*{creditCardNum}" class="form-control" /> <span
						th:if="${#fields.hasErrors('creditCardNum')}"
						th:errors="*{creditCardNum}">ErrorMessage</span>
				</div>
				<!-- /* カード名義 */ -->
				<div class="form-group">
					<label>カード名義(*)</label> <br> <input type="text"
						th:field="*{creditCardName}" class="form-control" /> <span
						th:if="${#fields.hasErrors('creditCardName')}"
						th:errors="*{creditCardName}">ErrorMessage</span>
				</div>
				<!--/* 有効年月 */-->
				<div class="form-row">
					<div class="form-group col-md-4">
						<label>有効年月(*)</label> <br> <input type="text"
							th:field="*{creditCardMonth}" class="form-control"
							placeholder="月" /> <span
							th:if="${#fields.hasErrors('creditCardMonth')}"
							th:errors="*{creditCardMonth}">ErrorMessage</span>
					</div>
					<div class="form-group col-md-4">
						<label></label> <input type="text" th:field="*{creditCardYear}"
							class="form-control" placeholder="年" /> <span
							th:if="${#fields.hasErrors('creditCardYear')}"
							th:errors="*{creditCardYear}">ErrorMessage</span>
					</div>
				</div>
				<!--/* セキュリティコード(CVS) */-->
				<div class="form-group col-md-4">
					<label>セキュリティコード(CVS)(*)</label> <br> <input type="text"
						th:field="*{creditCardCvs}" class="form-control" /> <span
						th:if="${#fields.hasErrors('creditCardCvs')}"
						th:errors="*{creditCardCvs}">ErrorMessage</span>
				</div>
				<!--/* 購入ボタン */-->
				<input class="btn btn-primary" type="submit" value="購入" />

			</form>
		</div>
	</main>
	<!-- メイン終了 -->
	<!-- footer読み込み -->
	<footer th:replace="common :: footer"></footer>
</body>
</html>